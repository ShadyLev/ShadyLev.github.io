<html>
<head>
<title>Game Development Portfolio</title>
<link rel="stylesheet" href="styles.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">


<div id="wrapper">

  <div class="header">
    <div id="logo">
      <div align="right">
        <br>
        <br>
        <topIcons>
          <a href="Pdf/Benedykt_Cieslinski_CV.pdf" target="_new">
            <img src="Images/cvicon.png" width="36" height="36" title="Resume">
          </a>
          &nbsp;
          <a href="https://www.linkedin.com/in/benedyktcieslinski/" target="_new">
            <img src="Images/linkedInIcon.png" width="36" height="36" title="LinkedIn Profile">
          </a>
          &nbsp;
          <a href="https://twitter.com/ShadyLev" target="_new">
            <img src="Images/twitterIcon.png" width="36" height="36" title="Twitter Profile">
          </a>
          &nbsp;
          <a href="https://shadylev.itch.io" target="_new">
            <img src="Images/itchioIcon.png" width="36" height="36" title="Itch.Io Profile">
          </a>
        </topIcons>
      </div>
    </div>
  </div>

<div class="topnav">
  <a href="index.html">Home</a>
  <div class="dropdown">
    <button class="dropbtn" href="projects.html">Projects
      <i class="fa fa-caret-down"></i>
    </button>
    <div class="dropdown-content">
      <a href="project_Dollhouse.html">Dollhouse</a>
      <a href="project_BitterExtinction.html">Bitter Extinction</a>
      <a href="project_Deeper.html">Deeper</a>
      <a href="project_DuplicitousDefrauders.html">Duplicitous Defrauders</a>
      <a href="project_BeQuiet.html">Be Quiet</a>
      <a href="project_Prototypes.html">Prototypes</a>
    </div>
  </div>
  <a href="cv.html">About & Resume</a>
  <a href="contact.html">Contact</a>
</div>
</head>
<body>

  <hr id="Deeper" class="rounded">
  <h1 class="greenEntry">Deeper</h1>
  <br>


  <!-- Container for the image gallery -->
<div class="container">

  <!-- Full-width images with number text -->
  <div class="mySlides">
    <div class="numbertext">1 / 4</div>
      <img src="Images/Deeper/deeper1.png" style="width:100%">
  </div>

  <div class="mySlides">
    <div class="numbertext">2 / 4</div>
      <img src="Images/Deeper/deeper2.png" style="width:100%">
  </div>

  <div class="mySlides">
    <div class="numbertext">3 / 4</div>
      <img src="Images/Deeper/deeper3.png" style="width:100%">
  </div>

  <div class="mySlides">
    <div class="numbertext">4 / 4</div>
      <img src="Images/Deeper/deeper4.png" style="width:100%">
  </div>


  <!-- Next and previous buttons -->
  <a class="prev" onclick="plusSlides(-1)">&#10094;</a>
  <a class="next" onclick="plusSlides(1)">&#10095;</a>

  <!-- Image text -->
  <div class="caption-container">
    <p id="caption"></p>
  </div>

  <!-- Thumbnail images -->
  <div class="row">
    <div class="column">
      <img class="demo cursor" src="Images/Deeper/deeper1.png" style="width:100%" onclick="currentSlide(1)" alt="Main Menu">
    </div>
    <div class="column">
      <img class="demo cursor" src="Images/Deeper/deeper2.png" style="width:100%" onclick="currentSlide(2)" alt="Gameplay">
    </div>
    <div class="column">
      <img class="demo cursor" src="Images/Deeper/deeper3.png" style="width:100%" onclick="currentSlide(3)" alt="Gameplay">
    </div>
    <div class="column">
      <img class="demo cursor" src="Images/Deeper/deeper4.png" style="width:100%" onclick="currentSlide(4)" alt="End menu / High score">
    </div>
  </div>
</div>


  <h2 class="greenEntry" id="about">About the project:</h2>
  <p>Deeper is a  personal project I have worked on during summer 2022. It was created to keep up on my programming skills as well as exploration of different parts
    of game development from UI to the backend dungeon generation mechanics.
  </p>

  <div style="display: inline-block; padding-left: 15px;">
    <h3 class="greenEntry">Engine:</h3>
    <h3>Unity</h3>
  </div>
  <div style="display: inline-block; padding-left: 15px;">
    <h3 class="greenEntry">Platform:</h3>
    <h3>Windows</h3>
  </div>
  <div style="display: inline-block; padding-left: 15px;">
    <h3 class="greenEntry">Team size:</h3>
    <h3>1</h3>
  </div>
  <div style="display: inline-block; padding-left: 15px;">
    <h3 class="greenEntry">Development time:</h3>
    <h3>1 month</h3>
  </div>
  <div style="display: inline-block; padding-left: 15px;">
    <h3 class="greenEntry">Download:</h3>
    <a style="text-decoration: none;" href="https://shadylev.itch.io/deeper" target="_new"><h3>Itch.io</h3></a>
  </div>

  <h2 class="greenEntry">What I did:</h2>
  <ul>
    <li>Advanced movement mechanic. Includes sprinting, edge pullup, wallrunning and a stamina system.</li>
    <li>Random level generator which creates new dungeon layouts on each playthrough.</li>
    <li>Gun mechanics. Different guns with their own unique patterns and shooting styles.</li>
    <li>UI design and functionality. Including settings allowing to change graphics, saving game progress and stats and audio controls.</li>
    <li>Audio implementation.</li>
    <li>The Itch.Io page.</li>
  </ul>
  

  <hr class="rounded">
  <center>
    <h1 class="greenEntry">Game trailer:</h1>
    <iframe width="560" height="315" src="https://www.youtube.com/embed/N79uNcu4Y7M" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
  </center>

  <h1 class="greenEntry">Details</h1>
  <hr class="rounded">

  <h2 class="greenEntry" id="gunsystem">Gun System</h2>
  <p>This gun system accomodates different gun types like shotguns, semi automatic rifles, automatic rifles ect. All that user has to do is just create a new
    scriptable object and insert the values accordingly. Below I go through the gun system script step by step and explain how it works.
  </p>

  <center>
    <img src="Images/Deeper/GunSystem/GunDemo.gif">
  </center>
  <br>

  <button type="button" class="collapsible">Expand explanation</button>
  <div class="collapsible-content">
  <center>
    <h3 class="greenEntry">SO, Variables, Start and Update.</h3>
  </center>
  <div class="grid-container">
    <div class="grid-element">
      <img src="Images/Deeper/GunSystem/Gun_SO.png" width="100%" height="100%">
      <p>Example gun SO.</p>
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/GunSystem/Variables.png" width="100%" height="100%">
      <p>All variables.</p>
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/GunSystem/StartAndUpdate.png" width="100%" height="100%">
      <p>Start and Update functions.</p>
    </div>
  </div>
  <br>
  <p>
    In the start function we simply get a reference to the player camera and the recoil script. 
    After that we call the SwapGun function which gives the player a weapon.
    Next we state that bulletsLeft = magazineSize to have the player start with a full loaded magazine.
    The next two bool allow the player to shoot.
  </p>
  <center>
    <h3 class="greenEntry">SwapGun and SwapModel functions.</h3>
  </center>
  <div>
    <img src="Images/Deeper/GunSystem/SwapGunAndSwapModel.png" width="100%" height="100%">
  </div>
  <p>Next we have the SwapGun and SwapModel functions. SwapGun starts the gun swapping animation and sets bulletsLeft to 0
  so the player cannot shoot. It is mostly called from another script which handles gun swapping (It simply changes the weaponData
  depending on a key input). 
  The SwapModel function is called from inside the gun swapping animation. It simply changes the model of the gun
  depending on which gun was selected and sets the bulletsLeft variable to the maximum again.
  </p>
  <center>
    <h3 class="greenEntry">Player Input.</h3>
  </center>
  <div>
    <img src="Images/Deeper/GunSystem/Input.png" width="100%" height="100%">
  </div>
  <p>The Input function as the name implies checks the player's input. 
    If the player is in a rest area (in which I do not want the player to be able to shoot) we simply return from the funtion.
    Otherwise we check if the gun is single shot or automatic and we set the shooting bool accordingly.
    After that we check for reloading input or we reload automatically if the gun is out of ammunition.
    Finally if the conditions are right we set the bulletsShot variable (different for guns like shotguns which shoots pellets so bullets shot per one tap would be more than 1.)
    and we call the shoot function.
  </p>
  <center>
    <h3 class="greenEntry">Shoot function.</h3>
  </center>
  <div>
    <img src="Images/Deeper/GunSystem/Shoot1.png" width="100%" height="100%">
  </div>
  <p>
  In the shoot function we handle the shooting logic (duh). Firstly we set readyToShoot bool to false as to not constantly shoot.
  After that we call the StartRecoil function from the recoil script with values from the weaponData scriptable object.
  Next we handle the audio, if we are playing the shooting sound we stop playing it and play it again, sort of a reset. If we are not
  playing any audio we simply play the gun shot audio. 
  Now it's time for the fun part. We calculate a random spread for the gun, same for the X and Y values but one can 
  easly change it to be different for both axis. We add the spread values to the forward direction of the player camera to get 
  a direction in which the gun will shoot.
  </p>
  <div>
    <img src="Images/Deeper/GunSystem/Shoot2.png" width="100%" height="100%">
  </div>
  <p>
    After calculating a direction for the gun to shoot in we can shoot a raycast from the camera in that direction.
    We store the raycast Hit in rayHit and specify the length of the raycast. In this case it's simply the gun's range 
    from weaponData scriptable object. After we shoot the ray we check if it hit an enemy. We check by comparing 
    the tag of the collider we hit. If we hit an enemy we have 2 outcomes (In my game as there are 2 enemy types with diffferent AI scripts).
    We check for each AI script and depending on which one is not null we call the TakeDamage function on the AI.
    Next we increase the integer that counts the bullets hit and instantiate a hit effect at the point where the ray hit.
  </p>
  <div>
    <img src="Images/Deeper/GunSystem/Shoot3.png" width="100%" height="100%">
  </div>
  <p>
    This is the last part of the shoot function handling what happens after we shoot the raycast.
    Firstly we increase the int storing the amount of total bullets shot. Then we instantiate a bullet impact effect at hit point.
    Next we handle the muzzle flash effect. We add a random rotation for variation and instantiate it at the gun muzzle point.
    We destroy both effects after a short time. Following that we decrease the amount of bullets we have left and the amount of bulletsShot.
    We check if we can shoot again, if we can we call the ResetShot function after a delay which is the fire rate value set in weaponData SO.
    Otherwise we check if there is more bullets to shoot (for cases like shotgun or a burst rifle) and if we have ammo left. If so we 
    call the shoot function again after a delay set in weaponData SO.
  </p>
  <center>
    <h3 class="greenEntry">Reset Shot, Reload and Reloading Finished.</h3>
  </center>
  <div class="grid-container">
    <div class="grid-element">
      <img src="Images/Deeper/GunSystem/Reset Shot.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/GunSystem/Reload.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/GunSystem/ReloadingFinished.png" width="100%" height="100%">
    </div>
  </div>
  <p>The ResetShot function mentioned above simply resets the two bools allowing player to shoot back to true.
    Reload function sets the trigger in the animator to start the reloading animation. Next we handle the reloading audio
    which works the same way the shooting audio does. In the end we call the ReloadingFinished function after the reloadTime 
    value. Lastly the ReloadingFinished function resets the amount of bullets left back to max, triggers the reloading animation to end
    and ends the reloading process.
  </p>
  <p>
    And that's the end of the script. If any questions arise I am more than happy to anwser them.
  </p>
</div>

<h2 class="greenEntry" id="gunsystem">Movement System</h2>
<p>This movement system is all controlled using a rigidbody and allows the player to walk, crouch, sprint, wallrun, climb walls and pull up ledges.
  It is also modular with the exception of the core movement (walk, crouch, sprint, slide). Meaning you can enable or disable any part at will.
  Because it is so extensive I will only cover wall climbing.
</p>

<center>
  <img src="Images/Deeper/WallClimb/ClimbingDemo.gif">
</center>
<br>

<button type="button" class="collapsible">Wall Climbing</button>
<div class="collapsible-content">
  <center>
    <h3 class="greenEntry">Variables, Start, Update and CheckWall</h3>
  </center>
  <div class="grid-container">
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/Variables.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/StartUpdate.png" width="100%" height="100%">
    </div>
  </div>
  <p>
    Firstly we have all the variables and the start update in which we simply
    get the refrences to the main PlayerMovement script, the PlayerStamina script the rigidbody.
    In the update function we firstly run the GetInput function (covered below) to get player's input.
    Next we check if we are attached to a wall, if not we return. After is the stamina check, if player has none 
    we detach him from the wall (covered later). Then we check the players looking direction.
    If the player is looking away from the wall and up we check for jump input. If player has enough
    stamina and presses the jump button we detach the player form the wall, set the jump direction and add the jump force.
    Otherwise if the player is looking down and presses the jump key they are instead detached from the wall.
  </p>
  <center>
    <h3 class="greenEntry">Fixed Update and Climbing Movement.</h3>
  </center>
  <div class="grid-container">
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/FixedUpdate.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/ClimbingMovement.png" width="100%" height="100%">
    </div>
  </div>
  <p>
    Following the Update function is the FixedUpdate function which checks if the player is 
    attached to the wall and has stamina to move. If so we call the ClimbingMovement function.
    The ClimbingMovement function handles the player's movement on the wall.
    We simply add force towards the wall as so the player does not detach when they hit a 90 degree
    corner and we add force in the direction of players input.
  </p>
  <center>
    <h3 class="greenEntry">Player Input and Attaching to a wall.</h3>
  </center>
  <div class="grid-container">
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/GetInput.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/AttachToWall.png" width="100%" height="100%">
    </div>
  </div>
  <p>
    In the GetInput function we take the players Horizontal and Vertical inputs and calculate the move direction.
    Very similar to normal ground movement just with a swapped axis.
  </p>
  <p>
    Next is the AttachToWall function which as the name suggests attaches the player to the wall.
    It checks if the player pressed the button to attach to a wall and if so we set the needed variables.
    IsClimbing to true so the movement script knows we are climbing, attachedToWall to true as an internal variable and we
    disable gravity as it is not needed. After that we disable any unneeded script that might interfere with climbing. In this case
    we only disable the wallRunning script.
  </p>
  <center>
    <h3 class="greenEntry">Detaching from a wall and getting wall dot product.</h3>
  </center>
  <div class="grid-container">
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/DetachFromWall.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/CheckDotWall.png" width="100%" height="100%">
    </div>
  </div>
  <p>
    DetachFromWall is the exact opposite from attach to wall. The CheckDotWall function helps us know if the player is looking
    towards of away from the wall. We get the direction from player to wallPoint (point where the player collides with the wall) and 
    normalize it. Next we get the dot product of that direction and the player's forward vector. Then we return the dot product.
  </p>
  <center>
    <h3 class="greenEntry">Final collision checks.</h3>
  </center>
  <div class="grid-container">
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/ColEnter.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/ColStay.png" width="100%" height="100%">
    </div>
    <div class="grid-element">
      <img src="Images/Deeper/WallClimb/ColExit.png" width="100%" height="100%">
    </div>
  </div>
  <p>
    Lastly we have the collision checks. When the player enters a collision with the wall.
    We save the wallNormal value as well as the wallPoint location. After that we check if the player wants to attach to the wall.
  </p>
  <p>
    OnCollicionStay we update wallNormal and wallPoint variables as well as check if player wants to attach to the wall.
    That is in case the player is sliding down a wall and missed the initial collision enter check.
  </p>
  <p>
    At the very end on exiting collision with the wall we reset the wallNormal and wallPoint variables back to Vector zero (0.0.0) and we call 
    the DetachFromWall function.
  </p>
</div>

  <br>
  <br>
</div>

<script>
  let slideIndex = 1;
  showSlides(slideIndex);
  
  function plusSlides(n) {
    showSlides(slideIndex += n);
  }
  
  function currentSlide(n) {
    showSlides(slideIndex = n);
  }
  
  function showSlides(n) {
    let i;
    let slides = document.getElementsByClassName("mySlides");
    let dots = document.getElementsByClassName("demo");
    let captionText = document.getElementById("caption");
    if (n > slides.length) {slideIndex = 1}
    if (n < 1) {slideIndex = slides.length}
    for (i = 0; i < slides.length; i++) {
      slides[i].style.display = "none";
    }
    for (i = 0; i < dots.length; i++) {
      dots[i].className = dots[i].className.replace(" active", "");
    }
    slides[slideIndex-1].style.display = "block";
    dots[slideIndex-1].className += " active";
    captionText.innerHTML = dots[slideIndex-1].alt;
  }
  </script>
<script>
  var coll = document.getElementsByClassName("collapsible");
  var i;
  
  for (i = 0; i < coll.length; i++) {
    coll[i].addEventListener("click", function() {
      this.classList.toggle("active");
      var content = this.nextElementSibling;
      if (content.style.display === "block") {
        content.style.display = "none";
      } else {
        content.style.display = "block";
      }
    });
  }
  </script>
  

</body>
</html>